(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8202:function(e,t,n){Promise.resolve().then(n.bind(n,8660))},8660:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var l=n(7437),r=n(551),s=n.n(r),a=n(2265);let i=["Downtown","Kensington","Annex","Midtown","Danforth","North York","Scarborough","Etobicoke"],o=["Restaurant/Bar","Retail","Warehouse/Logistics","Cleaning","Hotel/Event","Moving/Delivery"],d=["Morning","Afternoon","Evening","Overnight"];function c(e){var t,n,r;let{open:s,onClose:c,state:h,setAdvanced:p}=e,m=(0,a.useRef)(null);if((0,a.useEffect)(()=>{if(s){var e;null===(e=m.current)||void 0===e||e.focus()}},[s]),!s)return null;let f=h.advanced;function x(e,t){var n;let l=new Set(null!==(n=f[e])&&void 0!==n?n:[]);l.has(t)?l.delete(t):l.add(t),p({[e]:Array.from(l)})}return(0,l.jsxs)("div",{className:"fixed inset-0 z-50",role:"dialog","aria-modal":"true",children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-black/30",onClick:c}),(0,l.jsxs)("div",{ref:m,tabIndex:-1,className:"absolute right-0 top-0 h-full w-full max-w-md bg-white shadow-xl p-4 overflow-y-auto focus-ring",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold",children:"Advanced filters"}),(0,l.jsx)("button",{onClick:c,className:"px-3 py-2 rounded-md border border-border focus-ring",children:"Close"})]}),(0,l.jsxs)("section",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium mb-2",children:"Neighbourhood"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:i.map(e=>{var t;return(0,l.jsx)("button",{className:u((null!==(t=f.neighbourhoods)&&void 0!==t?t:[]).includes(e)),onClick:()=>x("neighbourhoods",e),children:e},e)})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium mb-2",children:"Role type"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:o.map(e=>{var t;return(0,l.jsx)("button",{className:u((null!==(t=f.roleTypes)&&void 0!==t?t:[]).includes(e)),onClick:()=>x("roleTypes",e),children:e},e)})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium mb-2",children:"Shift time"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:d.map(e=>{var t;return(0,l.jsx)("button",{className:u((null!==(t=f.shifts)&&void 0!==t?t:[]).includes(e)),onClick:()=>x("shifts",e),children:e},e)})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium mb-2",children:"Hours band"}),(0,l.jsx)("div",{className:"flex gap-2",children:["<20","20–35","35+"].map(e=>(0,l.jsx)("button",{className:u(f.hoursBand===e),onClick:()=>p({hoursBand:f.hoursBand===e?void 0:e}),children:e},e))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium mb-2",children:"Compensation options"}),(0,l.jsxs)("label",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{type:"checkbox",checked:null!==(t=f.tips)&&void 0!==t&&t,onChange:e=>p({tips:e.target.checked})})," Tips"]}),(0,l.jsxs)("label",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{type:"checkbox",checked:null!==(n=f.trainingProvided)&&void 0!==n&&n,onChange:e=>p({trainingProvided:e.target.checked})})," Training provided"]}),(0,l.jsxs)("label",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{type:"checkbox",checked:null!==(r=f.overtimePossible)&&void 0!==r&&r,onChange:e=>p({overtimePossible:e.target.checked})})," Overtime possible"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium mb-2",children:"Start date"}),(0,l.jsx)("div",{className:"flex gap-2",children:["today","7days","month"].map(e=>(0,l.jsx)("button",{className:u(f.startDate===e),onClick:()=>p({startDate:f.startDate===e?void 0:e}),children:"today"===e?"Today":"7days"===e?"≤7 days":"This month"},e))})]})]})]})]})}function u(e){return"px-3 py-2 rounded-full border ".concat(e?"bg-brand text-white border-brand":"border-border hover:bg-border"," focus-ring")}function h(e){var t;let{state:n,setQuickToggle:r,setAdvanced:s,setSort:i,resultsCount:o}=e,[d,u]=(0,a.useState)(!1);return(0,l.jsxs)("div",{className:"sticky top-[57px] z-30 bg-white border-b border-border py-2",children:[(0,l.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,l.jsx)("button",{className:p(n.quick.nearMe),onClick:()=>r("nearMe",!n.quick.nearMe),children:"Near me ≤3 km"}),(0,l.jsx)("button",{className:p(n.quick.pay18),onClick:()=>r("pay18",!n.quick.pay18),children:"Pay ≥ $18/hr"}),(0,l.jsx)("button",{className:p(n.quick.sameDay),onClick:()=>r("sameDay",!n.quick.sameDay),children:"Start today/tomorrow"}),(0,l.jsx)("button",{className:p(n.quick.noExp),onClick:()=>r("noExp",!n.quick.noExp),children:"No experience required"}),(0,l.jsx)("button",{className:p(n.quick.nearTransit),onClick:()=>r("nearTransit",!n.quick.nearTransit),children:"Near transit"}),(0,l.jsx)("button",{className:p(n.quick.payListed),onClick:()=>r("payListed",!n.quick.payListed),children:"Pay listed only"}),(0,l.jsxs)("div",{className:"ml-auto flex items-center gap-2",children:[(0,l.jsxs)("label",{className:"inline-flex items-center gap-2 text-sm",children:[(0,l.jsx)("input",{type:"checkbox",className:"h-4 w-4",checked:null!==(t=n.advanced.includeOlder)&&void 0!==t&&t,onChange:e=>s({includeOlder:e.target.checked})}),"Include older"]}),(0,l.jsxs)("select",{className:"px-3 py-2 border border-border rounded-md focus-ring",value:n.sort,onChange:e=>i(e.target.value),"aria-label":"Sort results",children:[(0,l.jsx)("option",{value:"newest",children:"Newest"}),(0,l.jsx)("option",{value:"closest",children:"Closest"}),(0,l.jsx)("option",{value:"highestPay",children:"Highest pay"})]}),(0,l.jsx)("button",{className:"px-3 py-2 rounded-md border border-border focus-ring",onClick:()=>u(!0),"aria-haspopup":"dialog","aria-expanded":d,children:"Filters"})]})]}),(0,l.jsxs)("div",{className:"mt-2 text-sm","aria-live":"polite",children:[o," roles"]}),(0,l.jsx)(c,{open:d,onClose:()=>u(!1),state:n,setAdvanced:s})]})}function p(e){return"px-3 py-2 rounded-full border ".concat(e?"bg-brand text-white border-brand":"border-border hover:bg-border"," focus-ring")}var m=n(231),f=n.n(m);function x(e){let{job:t,selected:n,onSelect:r}=e;return(0,l.jsxs)("article",{"data-job-id":t.id,tabIndex:0,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),null==r||r())},className:"p-4 flex flex-col gap-2 cursor-pointer ".concat(n?"bg-blue-50":""),onMouseEnter:r,onClick:r,role:"button","aria-pressed":n,children:[(0,l.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold text-ink leading-tight",children:t.title}),(0,l.jsxs)("p",{className:"text-sm text-muted",children:[t.company,t.neighbourhood?" • ".concat(t.neighbourhood):""]})]}),t.payDisplay&&(0,l.jsx)("span",{className:"px-2 py-1 rounded-full text-xs bg-brand text-white",children:t.payDisplay})]}),t.shiftBadges.length>0&&(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:t.shiftBadges.map(e=>(0,l.jsx)("span",{className:"px-2 py-1 rounded-full text-xs border border-border",children:e},e))}),t.learning&&(0,l.jsxs)("p",{className:"text-sm",children:["What you’ll learn: ",(0,l.jsx)("span",{className:"text-muted",children:t.learning})]}),(0,l.jsxs)("div",{className:"mt-1 flex items-center gap-3 text-sm text-muted",children:[t.freshnessLabel&&(0,l.jsx)("span",{children:t.freshnessLabel}),"number"==typeof t.distanceKm&&(0,l.jsxs)("span",{children:["• ",t.distanceKm.toFixed(1)," km"]})]}),(0,l.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,l.jsx)("a",{className:"px-3 py-2 rounded-md bg-brand text-white focus-ring",href:t.url,target:"_blank",rel:"noreferrer",children:"Apply on original site"}),(0,l.jsx)(f(),{className:"px-3 py-2 rounded-md border border-border focus-ring",href:"#report",children:"Report job"})]})]})}function b(e){return e*Math.PI/180}let g={lat:43.6532,lng:-79.3832};function v(e){return"number"==typeof e.pay_min?e.pay_min:"number"==typeof e.pay_max?e.pay_max:null}function y(e){return"number"==typeof e.pay_max?e.pay_max:"number"==typeof e.pay_min?e.pay_min:null}function j(e,t){var n,l;return(null!==(n=t.postedAt)&&void 0!==n?n:0)-(null!==(l=e.postedAt)&&void 0!==l?l:0)}function N(e,t){var n,l,r,s;let a=null!==(n=y(e))&&void 0!==n?n:0,i=null!==(l=y(t))&&void 0!==l?l:0;if(i!==a)return i-a;let o=null!==(r=v(e))&&void 0!==r?r:0;return(null!==(s=v(t))&&void 0!==s?s:0)-o}function k(e){return null==e.lat||null==e.lng?9999:Math.hypot(Math.abs(e.lat-g.lat),Math.abs(e.lng-g.lng))}var w=n(6463);let _=s()(()=>Promise.all([n.e(849),n.e(212),n.e(818),n.e(832)]).then(n.bind(n,9820)),{loadableGenerated:{webpack:()=>[9820]},ssr:!1});function D(){let{jobs:e,isLoading:t,error:n,userLocation:r}=function(){let[e,t]=(0,a.useState)([]),[n,l]=(0,a.useState)(!0),[r,s]=(0,a.useState)(null),[i,o]=(0,a.useState)(null);return(0,a.useEffect)(()=>{fetch("/data/jobs.json").then(e=>e.json()).then(e=>{t(e.map((e,t)=>{var n;let l=e.posted_at?Date.parse(e.posted_at):null,r=Date.now(),s=null!=l?Math.floor((r-l)/864e5):null,a=function(e,t){let n=new Set,l="".concat(null!=e?e:""," ").concat(null!=t?t:"").toLowerCase();return/morning|6|07|08|09|10|11/.test(l)&&n.add("Morning"),/afternoon|12|13|14|15|16/.test(l)&&n.add("Afternoon"),/evening|17|18|19|20|21|22/.test(l)&&n.add("Evening"),/overnight|23|00|01|02|03|04|05|06/.test(l)&&n.add("Overnight"),Array.from(n)}(e.shift,e.shift_window),i=function(e){var t;if(e.pay)return e.pay;let n=v(e),l=y(e);if(null==n&&null==l)return null;let r=null!==(t=e.currency)&&void 0!==t?t:"$",s=null!=n&&null!=l&&l!==n?"".concat(r).concat(n,"–").concat(l):"".concat(r).concat(null!=n?n:l);return"".concat(s,"/hr").concat(e.tips?" + tips":"")}(e),o=null!==(n=e.id)&&void 0!==n?n:"job-".concat(t);return{...e,id:o,coords:null!=e.lat&&null!=e.lng?{lat:e.lat,lng:e.lng}:void 0,postedAt:l,freshnessDays:s,freshnessLabel:null!=s?null==s?null:s<=0?"Posted today":1===s?"Posted yesterday":"Posted ".concat(s," days ago"):null,shiftBadges:a,payDisplay:i}}))}).catch(e=>s(String(e))).finally(()=>l(!1))},[]),(0,a.useEffect)(()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(e=>o({lat:e.coords.latitude,lng:e.coords.longitude}),()=>o(null),{enableHighAccuracy:!0,timeout:8e3})},[]),{jobs:(0,a.useMemo)(()=>i?e.map(e=>{if(null==e.lat||null==e.lng)return e;let t=function(e,t){let n=b(t.lat-e.lat),l=b(t.lng-e.lng),r=b(e.lat),s=b(t.lat),a=Math.sin(n/2),i=Math.sin(l/2);return 2*Math.asin(Math.sqrt(a*a+Math.cos(r)*Math.cos(s)*i*i))*6371}(i,{lat:e.lat,lng:e.lng});return{...e,distanceKm:t}}):e,[e,i]),isLoading:n,error:r,userLocation:i}}(),{state:s,setQuickToggle:i,setAdvanced:o,setSort:d,includeOlder:c}=function(){let e=(0,w.useSearchParams)(),t=(0,w.useRouter)(),n=(0,a.useMemo)(()=>{var t,n;let l=t=>e.get(t),r=e=>e?e.split(",").map(e=>decodeURIComponent(e)):[],s={nearMe:"1"===l("near"),pay18:"1"===l("pay18"),sameDay:"1"===l("sam"),noExp:"1"===l("noexp"),nearTransit:"1"===l("transit"),payListed:"1"===l("paylist")},a={neighbourhoods:r(l("n")),roleTypes:r(l("rt")),shifts:r(l("sh")),hoursBand:null!==(t=l("hb"))&&void 0!==t?t:void 0,tips:"1"===l("tips")||void 0,trainingProvided:"1"===l("train")||void 0,overtimePossible:"1"===l("ot")||void 0,startDate:null!==(n=l("sd"))&&void 0!==n?n:void 0,includeOlder:"1"===l("older")},i=l("sort")||"newest";return{quick:s,advanced:a,sort:i,applyAll:function(e,t){let n=new Date,l=new Date;return l.setDate(n.getDate()+1),e.filter(e=>{if(!a.includeOlder&&!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:72;return null!=e.postedAt&&(Date.now()-e.postedAt)/36e5<=t}(e,72)||s.nearMe&&(null==e.distanceKm||e.distanceKm>3))return!1;if(s.pay18){var t,n;if((null!==(n=null!==(t=e.pay_max)&&void 0!==t?t:e.pay_min)&&void 0!==n?n:0)<18)return!1}if(s.sameDay){let t=e.start_date?Date.parse(e.start_date):null;if(null==t||t>l.getTime())return!1}if(s.noExp&&e.experience_req&&"None"!==e.experience_req&&""!==e.experience_req.trim()||s.nearTransit&&!e.near_transit||s.payListed&&!(null!=e.pay_min||null!=e.pay)||a.neighbourhoods&&a.neighbourhoods.length>0&&(!e.neighbourhood||!a.neighbourhoods.includes(e.neighbourhood))||a.roleTypes&&a.roleTypes.length>0&&(!e.role_type||!a.roleTypes.includes(e.role_type))||a.shifts&&a.shifts.length>0&&!e.shiftBadges.some(e=>a.shifts.includes(e))||a.hoursBand&&e.hours_band!==a.hoursBand||a.tips&&!e.tips||a.trainingProvided&&!e.training_provided||a.overtimePossible&&!e.overtime_possible)return!1;if(a.startDate){let t=e.start_date?Date.parse(e.start_date):null;if(null==t)return!1;let n=new Date(t);if("today"===a.startDate){let e=new Date().toDateString();if(n.toDateString()!==e)return!1}else if("7days"===a.startDate){let e=new Date;if(e.setDate(e.getDate()+7),n>e)return!1}else if("month"===a.startDate){let e=new Date;if(e.setMonth(e.getMonth()+1),n>e)return!1}}return!0})},applySort:function(e,t){let n=[...e];return"newest"===i?n.sort(j):"highestPay"===i?n.sort(N):n.sort((e,t)=>{var n,l;return(null!==(n=e.distanceKm)&&void 0!==n?n:k(e))-(null!==(l=t.distanceKm)&&void 0!==l?l:k(t))})}}},[e]);function l(n){let l=new URLSearchParams(Array.from(e.entries()));Object.entries(n).forEach(e=>{let[t,n]=e;null==n||"0"===n||""===n?l.delete(t):l.set(t,n)});let r=l.toString();t.replace(r?"/?".concat(r):"/",{scroll:!1})}return{state:n,setQuickToggle:function(e,t){l({[({nearMe:"near",pay18:"pay18",sameDay:"sam",noExp:"noexp",nearTransit:"transit",payListed:"paylist"})[e]]:t?"1":null})},setAdvanced:function(e){var t,n;let r=new Map;e.neighbourhoods&&r.set("n",e.neighbourhoods.map(encodeURIComponent).join(",")),e.roleTypes&&r.set("rt",e.roleTypes.map(encodeURIComponent).join(",")),e.shifts&&r.set("sh",e.shifts.map(encodeURIComponent).join(",")),void 0!==e.hoursBand&&r.set("hb",null!==(t=e.hoursBand)&&void 0!==t?t:""),void 0!==e.tips&&r.set("tips",e.tips?"1":""),void 0!==e.trainingProvided&&r.set("train",e.trainingProvided?"1":""),void 0!==e.overtimePossible&&r.set("ot",e.overtimePossible?"1":""),void 0!==e.startDate&&r.set("sd",null!==(n=e.startDate)&&void 0!==n?n:""),void 0!==e.includeOlder&&r.set("older",e.includeOlder?"1":"");let s={};r.forEach((e,t)=>s[t]=e),l(s)},setSort:function(e){l({sort:e})},includeOlder:n.advanced.includeOlder}}(),[u,p]=(0,a.useState)(null),m=(0,a.useRef)(null),f=(0,a.useMemo)(()=>s.applyAll(e,r),[s,e,r]),g=(0,a.useMemo)(()=>s.applySort(f,r),[s,f,r]);return(0,a.useEffect)(()=>{u&&!g.some(e=>e.id===u)&&p(null)},[g,u]),(0,l.jsxs)("div",{className:"py-4",children:[(0,l.jsx)(h,{state:s,setQuickToggle:i,setAdvanced:o,setSort:d,resultsCount:g.length}),(0,l.jsxs)("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-5 gap-4",children:[(0,l.jsx)("div",{className:"lg:col-span-3 rounded-lg overflow-hidden border border-border",children:(0,l.jsx)(_,{jobs:g,selectedId:u,onSelect:p,userLocation:r})}),(0,l.jsx)("div",{ref:m,className:"lg:col-span-2 overflow-hidden rounded-lg border border-border",children:(0,l.jsxs)("div",{className:"h-[60vh] lg:h-[calc(100vh-220px)] overflow-y-auto divide-y",children:[t&&(0,l.jsx)("div",{className:"p-4",children:"Loading jobs…"}),!t&&0===g.length&&(0,l.jsxs)("div",{className:"p-6 text-center text-muted",children:[(0,l.jsx)("p",{className:"font-medium text-ink mb-1",children:"No matching roles right now"}),(0,l.jsx)("p",{children:"Try adjusting filters or including older postings."})]}),g.map(e=>(0,l.jsx)(x,{job:e,selected:e.id===u,onSelect:()=>p(e.id)},e.id))]})})]})]})}function P(){return(0,l.jsx)("main",{className:"mx-auto max-w-7xl px-4 sm:px-6",children:(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)("div",{className:"py-8",children:"Loading…"}),children:(0,l.jsx)(D,{})})})}},6463:function(e,t,n){"use strict";var l=n(1169);n.o(l,"useRouter")&&n.d(t,{useRouter:function(){return l.useRouter}}),n.o(l,"useSearchParams")&&n.d(t,{useSearchParams:function(){return l.useSearchParams}})},551:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let l=n(9920);n(7437),n(2265);let r=l._(n(148));function s(e,t){var n;let l={loading:e=>{let{error:t,isLoading:n,pastDelay:l}=e;return null}};"function"==typeof e&&(l.loader=e);let s={...l,...t};return(0,r.default)({...s,modules:null==(n=s.loadableGenerated)?void 0:n.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},912:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return r}});let l=n(5592);function r(e){let{reason:t,children:n}=e;if("undefined"==typeof window)throw new l.BailoutToCSRError(t);return n}},148:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});let l=n(7437),r=n(2265),s=n(912),a=n(1481);function i(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},d=function(e){let t={...o,...e},n=(0,r.lazy)(()=>t.loader().then(i)),d=t.loading;function c(e){let i=d?(0,l.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,o=t.ssr?(0,l.jsxs)(l.Fragment,{children:["undefined"==typeof window?(0,l.jsx)(a.PreloadCss,{moduleIds:t.modules}):null,(0,l.jsx)(n,{...e})]}):(0,l.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,l.jsx)(n,{...e})});return(0,l.jsx)(r.Suspense,{fallback:i,children:o})}return c.displayName="LoadableComponent",c}},1481:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return s}});let l=n(7437),r=n(8512);function s(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let n=(0,r.getExpectedRequestStore)("next/dynamic css"),s=[];if(n.reactLoadableManifest&&t){let e=n.reactLoadableManifest;for(let n of t){if(!e[n])continue;let t=e[n].files.filter(e=>e.endsWith(".css"));s.push(...t)}}return 0===s.length?null:(0,l.jsx)(l.Fragment,{children:s.map(e=>(0,l.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:n.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}}},function(e){e.O(0,[231,971,23,744],function(){return e(e.s=8202)}),_N_E=e.O()}]);